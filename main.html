<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <title>Food Order Website!</title>
        <!--CSS-->
        <link rel="stylesheet"
        href="background_styles.css">
        <link rel="stylesheet" href="styles.css">
        <!--Bootstrap-->
        <link rel=”stylesheet” href=”https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css”rel=”nofollow” integrity=”sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I” crossorigin=”anonymous”>
      </head>
      <body>

        <div>
          <h1>Drinks:</h1>
          <!-- <p>Images by FreePik</p> -->
        </div>
        <!-- <div class="sidenav">
          <img src="https://img.freepik.com/free-vector/cozy-autumn-cafe-illustration_23-2149076539.jpg?t=st=1726483307~exp=1726486907~hmac=c3bfea41287862485b93d414940c9905828e213949b620db1843b83e5f0e8196&w=740"></img alt="Cozy cafe in autumn.">
        </div> -->
        
        <div>

          <p id="titleRoar">placeholderText</p>
          <img id="roarImage">none image</img>
        </div>
        
        
        <script type="module">
          
        const outputElement = document.getElementById('titleRoar')
        const imageElement = document.getElementById('roarImage')

        // Hide API key in environment.
        // import 'dotenv/config' // Uncaught SyntaxError: Cannot use import statement outside a module.
        // require('dotenv').config();
        // console.log(process.env.HIDDEN_API_KEY);
                

        // const API_URL= "https://api.spoonacular.com/recipes/complexSearch?apiKey=HIDDEN_API_KEY&type=Drink"
        fetch(API_URL)
        .then(res => {
            if (!res.ok) {
            throw new Error('Network response was not ok'); // Fetch returns nothing due to no wifi connection
            }
            return res.json(); // returns entire OK response converted to json. no network error.
        })
        //
        .then(data => {
          const results = data.results; // Access 'results' array from returned API data.
          

          results.forEach(drink => {
                    const drinkHTML = `
                    <div class="grid-container">
                        <div class="card-body">
                          <img class="card-img-top" src="${drink.image}" alt="${drink.title}" />
                          <h5 class="card-title">${drink.title}</h2>
                        </div>
                    </div>
                    `;
                    document.querySelector('#titleRoar').insertAdjacentHTML('beforeend', drinkHTML);
                });
            })
            .catch(error => {
                console.error('Error:', error);
            });
        </script>

    </body>   
    </html>