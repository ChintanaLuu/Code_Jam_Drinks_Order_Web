<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <title>Food Order Website!</title>
        <!--CSS-->
        <link rel="stylesheet" href="background_styles.css">
        <link rel="stylesheet" href="styles.css">
      </head>

      <!-- Import Functions -->
       <!-- <href="myFunctions.js"></href> -->

      <body class="background-container">
        <!-- cafe bg -->
      <div class="left-background"></div>


      
      <!-- Pink -->
      <div class="center-background">

        <div class="col-center">
          <h1>Drinks:</h1>
          <p>Attributions:</p>
          <a href="https://www.flaticon.com/free-icons/shopping-cart" title="shopping cart icons">Shopping cart icons created by Freepik - Flaticon</a>
          <p>Side images by Freepik.</p>
          <a href="https://www.flaticon.com/free-icons/question" title="question icons">Question icons created by Roundicons - Flaticon</a>
        </div>
        
        <!-- Grid container containing drinkHTML cells. -->
        <div class="grid-container" id="cell">
        </div>
        
        <script type="module">

        // Function for adding item to cart.
        // import addToCart from "myFunctions.js";

          
          // Hide API key in environment.
          // import 'dotenv/config'
          // require('dotenv').config();
          // console.log(process.env.HIDDEN_API_KEY);
          
          
          // const API_URL= "https://api.spoonacular.com/recipes/complexSearch?apiKey=HIDDEN_API_KEY&type=Drink"

          // Get drink RECIPES.
          fetch(API_URL)
          .then(res => {
            if (!res.ok) {
              throw new Error('Network response was not ok'); // Fetch returns nothing due to no wifi connection
            }
            return res.json(); // returns entire OK response converted to json. no network error.
          })
          
          // GET


          //
          .then(data => {
            //console.log(data);
            
            const results = data.results; // Access 'results' array from returned API data.
            results.forEach(drink => {
              
              
              const drinkHTML = `
              <div class="col-auto">
                <div class="card text-white bg-light"
                <div class="card-body">
                  <img class="card-img-top" src="${drink.image}" alt="${drink.title}" />
                  <h5 class="card-title">${drink.title}</h2>
                    <p> ${drink.taste}</p> // This drink still needs a description!

                    <button>
                      <a href="cart.html?id=${drink.id}" onclick="addToCart(${drink.id})" alt="Add to cart!">
                        <input type="image" src= "trolley.png" height="30px" width="30px">
                      </a>
                    </button>

                    <button>
                    <a href="#" class="btn btn-primary" alt="View Nutrition Information!">
                      <input type="image" src= "question.png" height="30px" width="30px">
                    </a>
                    </button>

                    </div>
                    </div>
                    `;
                    document.querySelector('#cell').insertAdjacentHTML('beforeend', drinkHTML);
                  });
                })
                .catch(error => {
                  console.error('Error:', error);
                });


                
                </script>
</div>
<!-- cafe bg -->
<div class="right-background"></div>

</body>   
</html>